{
    "$id": "https://phlax.github.io/typed-config-testing/example-schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "example",
    "type": "object",

    "definitions": {
	"type1Properties": {
	    "properties": {
		"type1_propertyA": {
		    "type": "string",
		    "description": "type1 property A."
		},
		"type1_propertyB": {
		    "type": "string",
		    "description": "type1 property B."
		}
	    }
	}
    },

    "properties": {
	"name": {
	    "type": "string",
	    "description": "A common property."
	},
	"typed_config": {
	    "type": "object",
	    "description": "Extensible typed config.",
	    "allOf": [
		{"$ref": "#/definitions/type1Properties"},
		{"properties": {
		    "@type": {
			"type": "string",
			"enum": ["type1", "type2"]
		    },
		    "common_propertyA": {
			"type": "string"
		    },
		    "common_propertyB": {
			"type": "string"
		    }
		}}
	    ]
	}
    }
}
