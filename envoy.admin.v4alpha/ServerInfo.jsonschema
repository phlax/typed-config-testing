{"$schema": "http://json-schema.org/draft-04/schema#", "properties": {"version": {"type": "string", "description": "Server version."}, "state": {"enum": ["LIVE", 0, "DRAINING", 1, "PRE_INITIALIZING", 2, "INITIALIZING", 3], "oneOf": [{"type": "string"}, {"type": "integer"}], "description": "State of the server."}, "uptime_current_epoch": {"properties": {"seconds": {"type": "string", "description": "Signed seconds of the span of time. Must be from -315,576,000,000\n to +315,576,000,000 inclusive. Note: these bounds are computed from:\n 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years"}, "nanos": {"type": "integer", "description": "Signed fractions of a second at nanosecond resolution of the span\n of time. Durations less than one second are represented with a 0\n `seconds` field and a positive or negative `nanos` field. For durations\n of one second or more, a non-zero value for the `nanos` field must be\n of the same sign as the `seconds` field. Must be from -999,999,999\n to +999,999,999 inclusive."}}, "additionalProperties": true, "type": "object", "description": "Uptime since current epoch was started."}, "uptime_all_epochs": {"properties": {"seconds": {"type": "string", "description": "Signed seconds of the span of time. Must be from -315,576,000,000\n to +315,576,000,000 inclusive. Note: these bounds are computed from:\n 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years"}, "nanos": {"type": "integer", "description": "Signed fractions of a second at nanosecond resolution of the span\n of time. Durations less than one second are represented with a 0\n `seconds` field and a positive or negative `nanos` field. For durations\n of one second or more, a non-zero value for the `nanos` field must be\n of the same sign as the `seconds` field. Must be from -999,999,999\n to +999,999,999 inclusive."}}, "additionalProperties": true, "type": "object", "description": "Uptime since the start of the first epoch."}, "hot_restart_version": {"type": "string", "description": "Hot restart version."}, "command_line_options": {"properties": {"base_id": {"type": "string", "description": "See :option:`--base-id` for details."}, "use_dynamic_base_id": {"type": "boolean", "description": "See :option:`--use-dynamic-base-id` for details."}, "base_id_path": {"type": "string", "description": "See :option:`--base-id-path` for details."}, "concurrency": {"type": "integer", "description": "See :option:`--concurrency` for details."}, "config_path": {"type": "string", "description": "See :option:`--config-path` for details."}, "config_yaml": {"type": "string", "description": "See :option:`--config-yaml` for details."}, "allow_unknown_static_fields": {"type": "boolean", "description": "See :option:`--allow-unknown-static-fields` for details."}, "reject_unknown_dynamic_fields": {"type": "boolean", "description": "See :option:`--reject-unknown-dynamic-fields` for details."}, "ignore_unknown_dynamic_fields": {"type": "boolean", "description": "See :option:`--ignore-unknown-dynamic-fields` for details."}, "admin_address_path": {"type": "string", "description": "See :option:`--admin-address-path` for details."}, "local_address_ip_version": {"enum": ["v4", 0, "v6", 1], "oneOf": [{"type": "string"}, {"type": "integer"}], "description": "See :option:`--local-address-ip-version` for details."}, "log_level": {"type": "string", "description": "See :option:`--log-level` for details."}, "component_log_level": {"type": "string", "description": "See :option:`--component-log-level` for details."}, "log_format": {"type": "string", "description": "See :option:`--log-format` for details."}, "log_format_escaped": {"type": "boolean", "description": "See :option:`--log-format-escaped` for details."}, "log_path": {"type": "string", "description": "See :option:`--log-path` for details."}, "service_cluster": {"type": "string", "description": "See :option:`--service-cluster` for details."}, "service_node": {"type": "string", "description": "See :option:`--service-node` for details."}, "service_zone": {"type": "string", "description": "See :option:`--service-zone` for details."}, "file_flush_interval": {"properties": {"seconds": {"type": "string", "description": "Signed seconds of the span of time. Must be from -315,576,000,000\n to +315,576,000,000 inclusive. Note: these bounds are computed from:\n 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years"}, "nanos": {"type": "integer", "description": "Signed fractions of a second at nanosecond resolution of the span\n of time. Durations less than one second are represented with a 0\n `seconds` field and a positive or negative `nanos` field. For durations\n of one second or more, a non-zero value for the `nanos` field must be\n of the same sign as the `seconds` field. Must be from -999,999,999\n to +999,999,999 inclusive."}}, "additionalProperties": true, "type": "object", "description": "See :option:`--file-flush-interval-msec` for details."}, "drain_time": {"properties": {"seconds": {"type": "string", "description": "Signed seconds of the span of time. Must be from -315,576,000,000\n to +315,576,000,000 inclusive. Note: these bounds are computed from:\n 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years"}, "nanos": {"type": "integer", "description": "Signed fractions of a second at nanosecond resolution of the span\n of time. Durations less than one second are represented with a 0\n `seconds` field and a positive or negative `nanos` field. For durations\n of one second or more, a non-zero value for the `nanos` field must be\n of the same sign as the `seconds` field. Must be from -999,999,999\n to +999,999,999 inclusive."}}, "additionalProperties": true, "type": "object", "description": "See :option:`--drain-time-s` for details."}, "drain_strategy": {"enum": ["Gradual", 0, "Immediate", 1], "oneOf": [{"type": "string"}, {"type": "integer"}], "description": "See :option:`--drain-strategy` for details."}, "parent_shutdown_time": {"properties": {"seconds": {"type": "string", "description": "Signed seconds of the span of time. Must be from -315,576,000,000\n to +315,576,000,000 inclusive. Note: these bounds are computed from:\n 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years"}, "nanos": {"type": "integer", "description": "Signed fractions of a second at nanosecond resolution of the span\n of time. Durations less than one second are represented with a 0\n `seconds` field and a positive or negative `nanos` field. For durations\n of one second or more, a non-zero value for the `nanos` field must be\n of the same sign as the `seconds` field. Must be from -999,999,999\n to +999,999,999 inclusive."}}, "additionalProperties": true, "type": "object", "description": "See :option:`--parent-shutdown-time-s` for details."}, "mode": {"enum": ["Serve", 0, "Validate", 1, "InitOnly", 2], "oneOf": [{"type": "string"}, {"type": "integer"}], "description": "See :option:`--mode` for details."}, "disable_hot_restart": {"type": "boolean", "description": "See :option:`--disable-hot-restart` for details."}, "enable_mutex_tracing": {"type": "boolean", "description": "See :option:`--enable-mutex-tracing` for details."}, "restart_epoch": {"type": "integer", "description": "See :option:`--restart-epoch` for details."}, "cpuset_threads": {"type": "boolean", "description": "See :option:`--cpuset-threads` for details."}, "disabled_extensions": {"items": {"type": "string"}, "type": "array", "description": "See :option:`--disable-extensions` for details."}, "bootstrap_version": {"type": "integer", "description": "See :option:`--bootstrap-version` for details."}, "enable_fine_grain_logging": {"type": "boolean", "description": "See :option:`--enable-fine-grain-logging` for details."}, "socket_path": {"type": "string", "description": "See :option:`--socket-path` for details."}, "socket_mode": {"type": "integer", "description": "See :option:`--socket-mode` for details."}}, "additionalProperties": true, "type": "object", "description": "Command line options the server is currently running with."}, "node": {"properties": {"id": {"type": "string", "description": "An opaque node identifier for the Envoy node. This also provides the local\n service node name. It should be set if any of the following features are\n used: :ref:`statsd <arch_overview_statistics>`, :ref:`CDS\n <config_cluster_manager_cds>`, and :ref:`HTTP tracing\n <arch_overview_tracing>`, either in this message or via\n :option:`--service-node`."}, "cluster": {"type": "string", "description": "Defines the local service cluster name where Envoy is running. Though\n optional, it should be set if any of the following features are used:\n :ref:`statsd <arch_overview_statistics>`, :ref:`health check cluster\n verification\n <envoy_api_field_config.core.v4alpha.HealthCheck.HttpHealthCheck.service_name_matcher>`,\n :ref:`runtime override directory <envoy_api_msg_config.bootstrap.v4alpha.Runtime>`,\n :ref:`user agent addition\n <envoy_api_field_extensions.filters.network.http_connection_manager.v4alpha.HttpConnectionManager.add_user_agent>`,\n :ref:`HTTP global rate limiting <config_http_filters_rate_limit>`,\n :ref:`CDS <config_cluster_manager_cds>`, and :ref:`HTTP tracing\n <arch_overview_tracing>`, either in this message or via\n :option:`--service-cluster`."}, "metadata": {"properties": {"fields": {"additionalProperties": {"additionalProperties": true, "type": "object"}, "type": "object", "description": "Unordered map of dynamically typed values."}}, "additionalProperties": true, "type": "object", "description": "Opaque metadata extending the node identifier. Envoy will pass this\n directly to the management server."}, "locality": {"properties": {"region": {"type": "string", "description": "Region this :ref:`zone <envoy_api_field_config.core.v4alpha.Locality.zone>` belongs to."}, "zone": {"type": "string", "description": "Defines the local service zone where Envoy is running. Though optional, it\n should be set if discovery service routing is used and the discovery\n service exposes :ref:`zone data <envoy_api_field_config.endpoint.v3.LocalityLbEndpoints.locality>`,\n either in this message or via :option:`--service-zone`. The meaning of zone\n is context dependent, e.g. `Availability Zone (AZ)\n <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html>`_\n on AWS, `Zone <https://cloud.google.com/compute/docs/regions-zones/>`_ on\n GCP, etc."}, "sub_zone": {"type": "string", "description": "When used for locality of upstream hosts, this field further splits zone\n into smaller chunks of sub-zones so they can be load balanced\n independently."}}, "additionalProperties": true, "type": "object", "description": "Locality specifying where the Envoy instance is running."}, "user_agent_name": {"type": "string", "description": "Free-form string that identifies the entity requesting config.\n E.g. \"envoy\" or \"grpc\""}, "user_agent_version": {"type": "string", "description": "Free-form string that identifies the version of the entity requesting config.\n E.g. \"1.12.2\" or \"abcd1234\", or \"SpecialEnvoyBuild\""}, "user_agent_build_version": {"$ref": "https://phlax.github.io/typed-config-testing/envoy.config.core.v4alpha/BuildVersion.jsonschema", "additionalProperties": true, "description": "Structured version of the entity requesting config."}, "extensions": {"items": {"$schema": "http://json-schema.org/draft-04/schema#", "properties": {"name": {"type": "string", "description": "This is the name of the Envoy filter as specified in the Envoy\n configuration, e.g. envoy.filters.http.router, com.acme.widget."}, "category": {"type": "string", "description": "Category of the extension.\n Extension category names use reverse DNS notation. For instance \"envoy.filters.listener\"\n for Envoy's built-in listener filters or \"com.acme.filters.http\" for HTTP filters from\n acme.com vendor.\n [#comment:TODO(yanavlasov): Link to the doc with existing envoy category names.]"}, "type_descriptor": {"type": "string", "description": "[#not-implemented-hide:] Type descriptor of extension configuration proto.\n [#comment:TODO(yanavlasov): Link to the doc with existing configuration protos.]\n [#comment:TODO(yanavlasov): Add tests when PR #9391 lands.]"}, "version": {"$ref": "https://phlax.github.io/typed-config-testing/envoy.config.core.v4alpha/BuildVersion.jsonschema", "additionalProperties": true, "description": "The version is a property of the extension and maintained independently\n of other extensions and the Envoy API.\n This field is not set when extension did not provide version information."}, "disabled": {"type": "boolean", "description": "Indicates that the extension is present but was disabled via dynamic configuration."}}, "additionalProperties": true, "type": "object", "description": "Version and identification for an Envoy extension.\n [#next-free-field: 6]"}, "type": "array", "description": "List of extensions and their versions supported by the node."}, "client_features": {"items": {"type": "string"}, "type": "array", "description": "Client feature support list. These are well known features described\n in the Envoy API repository for a given major version of an API. Client features\n use reverse DNS naming scheme, for example `com.acme.feature`.\n See :ref:`the list of features <client_features>` that xDS client may\n support."}}, "additionalProperties": true, "type": "object", "description": "Populated node identity of this server."}}, "additionalProperties": true, "type": "object", "description": "[#protodoc-title: Server State]\n\nProto representation of the value returned by /server_info, containing\n server version/server status information.\n [#next-free-field: 8]", "definitions": {"envoy.config.core.v4alpha.BuildVersion": {"$schema": "http://json-schema.org/draft-04/schema#", "properties": {"version": {"properties": {"major_number": {"type": "integer"}, "minor_number": {"type": "integer"}, "patch": {"type": "integer"}}, "additionalProperties": true, "type": "object", "description": "SemVer version of extension."}, "metadata": {"properties": {"fields": {"additionalProperties": {"additionalProperties": true, "type": "object"}, "type": "object", "description": "Unordered map of dynamically typed values."}}, "additionalProperties": true, "type": "object", "description": "Free-form build information.\n Envoy defines several well known keys in the source/common/version/version.h file"}}, "additionalProperties": true, "type": "object", "description": "BuildVersion combines SemVer version of extension with free-form build information\n (i.e. 'alpha', 'private-build') as a set of strings.", "id": "envoy.config.core.v4alpha.BuildVersion"}}}