{"$schema": "http://json-schema.org/draft-04/schema#", "properties": {"clusters": {"items": {"$schema": "http://json-schema.org/draft-04/schema#", "properties": {"name": {"type": "string", "description": "Name of the upstream cluster."}, "weight": {"additionalProperties": true, "type": "integer", "description": "When a request matches the route, the choice of an upstream cluster is determined by its\n weight. The sum of weights across all entries in the clusters array determines the total\n weight."}, "metadata_match": {"properties": {"filter_metadata": {"additionalProperties": {"properties": {"fields": {"additionalProperties": {"additionalProperties": true, "type": "object"}, "type": "object", "description": "Unordered map of dynamically typed values."}}, "additionalProperties": true, "type": "object"}, "type": "object", "description": "Key is the reverse DNS filter name, e.g. com.acme.widget. The envoy.*\n namespace is reserved for Envoy's built-in filters."}}, "additionalProperties": true, "type": "object", "description": "Optional endpoint metadata match criteria used by the subset load balancer. Only endpoints in\n the upstream cluster with metadata matching what is set in this field, combined with what's\n provided in :ref:`RouteAction's metadata_match\n <envoy_api_field_extensions.filters.network.thrift_proxy.v4alpha.RouteAction.metadata_match>`,\n will be considered. Values here will take precedence. Keys and values should be provided\n under the \"envoy.lb\" metadata key."}}, "additionalProperties": true, "type": "object"}, "type": "array", "description": "Specifies one or more upstream clusters associated with the route."}}, "additionalProperties": true, "type": "object", "description": "Allows for specification of multiple upstream clusters along with weights that indicate the\n percentage of traffic to be forwarded to each cluster. The router selects an upstream cluster\n based on these weights."}